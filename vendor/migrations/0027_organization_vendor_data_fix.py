# Generated by Django 3.1.12 on 2022-01-27 21:21

from django.db import migrations
from django.db.models import Value
from django.db.models.functions import Lower, Replace


def fix_organizationa_vendor_data(apps, schema_editor):
    OrganizationVendor = apps.get_model('vendor', 'OrganizationVendor')
    OrganizationVendor.objects.update(
        operational_exposure=Lower('operational_exposure'),
        risk_rating=Lower('risk_rating'),
        status=Replace(Lower('status'), Value('in '), Value('')),
        data_exposure=Replace(
            Replace(Lower('data_exposure'), Value(' '), Value('_')),
            Value('&'),
            Value('and'),
        ),
    )


class Migration(migrations.Migration):
    dependencies = [
        ('vendor', '0026_fix_typo_in_choices'),
    ]

    operations = [migrations.RunPython(fix_organizationa_vendor_data)]
